
flowchart TD
    "AMF_Receives_Registration_Request"["AMF_Receives_Registration_Request (state)"]
    "AMF_Assigns_TAI_List"["AMF_Assigns_TAI_List (action)"]
    "AMF_Sends_Registration_Accept"["AMF_Sends_Registration_Accept (action)"]
    "UE_Receives_Registration_Accept"["UE_Receives_Registration_Accept (event)"]
    "UE_Stores_TAI_List"["UE_Stores_TAI_List (action)"]
    "UE_Old_TAI_List_Deleted"["UE_Old_TAI_List_Deleted (state)"]
    "Non_3GPP_Access"["Non_3GPP_Access (condition)"]
    "Single_TAI_Included"["Single_TAI_Included (action)"]

    "AMF_Receives_Registration_Request" --> |Process Registration Request| "AMF_Assigns_TAI_List"
    "AMF_Assigns_TAI_List" --> |IncludeTAIListinRegistrationAccept| "AMF_Sends_Registration_Accept"
    "AMF_Sends_Registration_Accept" --> |RegistrationAcceptReceived| "UE_Receives_Registration_Accept"
    "UE_Receives_Registration_Accept" --> |StoreTAIList| "UE_Stores_TAI_List"
    "UE_Stores_TAI_List" --> |DeleteOldTAIList| "UE_Old_TAI_List_Deleted"
    "AMF_Receives_Registration_Request" --> |RegistrationRequestoverNon-3GPPaccess| "Non_3GPP_Access"
    "Non_3GPP_Access" --> |AMFincludessingleTAI| "AMF_Assigns_TAI_List"
    "AMF_Assigns_TAI_List" --> |IncludesingleTAIintheRegistrationAcceptmessage| "Single_TAI_Included"
