{
  "procedure_name": "TAI List Assignment during Initial Registration",
  "description": "The AMF assigns a TAI list as a registration area to the UE during the initial registration procedure. The UE stores the received TAI list, replacing any old ones.",
  "nodes": [
    {
      "id": "AMF_Receives_Registration_Request",
      "type": "state",
      "properties": {}
    },
    {
      "id": "AMF_Assigns_TAI_List",
      "type": "action",
      "properties": {}
    },
    {
      "id": "AMF_Sends_Registration_Accept",
      "type": "action",
      "properties": {
        "message_type": "REGISTRATION ACCEPT",
        "information_element": "TAI list"
      }
    },
    {
      "id": "UE_Receives_Registration_Accept",
      "type": "event",
      "properties": {
        "message_type": "REGISTRATION ACCEPT",
        "information_element": "TAI list"
      }
    },
    {
      "id": "UE_Stores_TAI_List",
      "type": "action",
      "properties": {}
    },
    {
      "id": "UE_Old_TAI_List_Deleted",
      "type": "state",
      "properties": {}
    },
     {
      "id": "Non_3GPP_Access",
      "type": "condition",
      "properties": {
        "access_type": "Non-3GPP"
      }
    },
    {
      "id": "Single_TAI_Included",
      "type": "action",
      "properties": {
        "tai_list_count": "single"
      }
    }
  ],
  "edges": [
    {
      "from": "AMF_Receives_Registration_Request",
      "to": "AMF_Assigns_TAI_List",
      "action": "Process Registration Request",
      "properties": {}
    },
    {
      "from": "AMF_Assigns_TAI_List",
      "to": "AMF_Sends_Registration_Accept",
      "action": "Include TAI List in Registration Accept",
      "properties": {}
    },
    {
      "from": "AMF_Sends_Registration_Accept",
      "to": "UE_Receives_Registration_Accept",
      "event": "Registration Accept Received",
      "properties": {}
    },
    {
      "from": "UE_Receives_Registration_Accept",
      "to": "UE_Stores_TAI_List",
      "action": "Store TAI List",
      "properties": {}
    },
    {
      "from": "UE_Stores_TAI_List",
      "to": "UE_Old_TAI_List_Deleted",
      "action": "Delete Old TAI List",
      "properties": {}
    },
     {
      "from": "AMF_Receives_Registration_Request",
      "to": "Non_3GPP_Access",
      "condition": "Registration Request over Non-3GPP access",
      "properties": {}
    },
    {
      "from": "Non_3GPP_Access",
      "to": "AMF_Assigns_TAI_List",
      "action": "AMF includes single TAI",
      "properties": {}
    },
    {
      "from": "AMF_Assigns_TAI_List",
      "to": "Single_TAI_Included",
      "action": "Include single TAI in the Registration Accept message",
      "properties": {}
    }
  ]
}