Based on the provided text from 3GPP 24.501, there are two main registration procedures described:

1. **Registration procedure for initial registration:** This procedure is for the UE's initial access to the 5G network.
2. **Registration procedure for mobility and periodic registration update:** This procedure is used by a UE for both mobility and periodic registration updates of 5GS services.


Let's extract information for the second procedure using the provided mapping:

**Procedure 2: Registration procedure for mobility and periodic registration update**

* **States:**
    * 5GMM-REGISTERED (UE state before initiating the procedure)
    * 5GMM-REGISTERED (UE state after successful completion)  This is implied.  The document does not explicitly list the network state.

* **Actions:**
    * UE sends REGISTRATION REQUEST message to the AMF.
    * AMF sends REGISTRATION ACCEPT message (if accepted) or REGISTRATION REJECT message (if rejected) to the UE.
    * UE resets timer T3512 (implied, based on text mentioning timer control).
    * UE processes the REGISTRATION ACCEPT/REJECT message (e.g., updates timer values, state transitions).
    * UE sends REGISTRATION COMPLETE message (if the registration was successful and an acknowledgement is required).
    * AMF stops timer T3550 and changes to state 5GMM-REGISTERED (if the registration was successful).



* **Events:**
    * Timer T3512 expiry (triggers the procedure for periodic registration update).
    * UE detects a change in tracking area (triggers the procedure for mobility registration update).
    * Reception of REGISTRATION ACCEPT message.
    * Reception of REGISTRATION REJECT message.



* **Parameters:**
    * REGISTRATION REQUEST message (from UE).
    * REGISTRATION ACCEPT/REJECT message (from AMF).
    * REGISTRATION COMPLETE message (from UE, if required)
    * Timer T3512 value.
    * Timer T3550 value.
    * 5GMM cause value (in REGISTRATION REJECT).
    * Other IEs as defined in the specification (e.g., 5GMM capability, S1 UE network capability, etc.).  These are numerous and not explicitly listed here due to their volume.


* **Flow of Execution:**
    1. Timer T3512 expires or a mobility event occurs.
    2. UE sends REGISTRATION REQUEST.
    3. AMF processes the request.
    4. AMF sends REGISTRATION ACCEPT or REJECT.
    5. UE processes the response and updates its state and timers.
    6. If accepted, UE may send REGISTRATION COMPLETE.


* **Conditionals:**
    * Timer T3512 expiry.
    * Mobility event detection.
    * AMF acceptance/rejection of the registration request.
    * Requirement for REGISTRATION COMPLETE message.
    * MUSIM UE registered for emergency services (affects AMF response).


* **Metadata:**  Not explicitly detailed but would include timestamps associated with message exchanges and timer events.  Also Message IDs would be included in the signalling.



**Mermaid Format:**

```mermaid
stateDiagram-v2
    [*] --> Registered: Timer T3512 expires or mobility event
    Registered --> RequestSent: REGISTRATION REQUEST
    RequestSent --> RegistrationAccepted: REGISTRATION ACCEPT (successful)
    RequestSent --> RegistrationRejected: REGISTRATION REJECT (failed)
    RegistrationAccepted --> Registered: REGISTRATION COMPLETE (if required), Timer T3512 reset
    RegistrationRejected --> Registered: handle reject, timer T3512 reset (implied)

    state Registered {
        [*] --> [*]
    }
```

**Description:**

The "Registration procedure for mobility and periodic registration update" is initiated either by timer T3512 expiry (periodic update) or by the UE detecting a mobility event (change in tracking area). The UE sends a REGISTRATION REQUEST message to the AMF. The AMF processes the request and sends either a REGISTRATION ACCEPT (if successful) or a REGISTRATION REJECT message (if not).  The UE handles the response message. If a REGISTRATION ACCEPT is received, the UE updates its registration information, resets timer T3512, and potentially sends a REGISTRATION COMPLETE message. If the registration is for a MUSIM UE registered for emergency services,  the AMF's response will be restricted in certain features. The AMF also maintains internal timers (like T3550) to manage the procedure on its side.  Failure results in a retry mechanism via timer T3511,  eventually leading to a PLMN selection if retries are exhausted.